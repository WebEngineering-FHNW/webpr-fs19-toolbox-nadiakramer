<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test 10</title>
</head>
<body>
<script>
    document.writeln("Test 9");

    //Q23 --> 8P

    /* 1
    const idPromise = x => new Promise(resolve => resolve(x));
    idPromise(1)
        .then(it => document.writeln(it));
     */

    /* 1
    const idPromise = x => new Promise(resolve => resolve(x));
    idPromise(1)
        .then(it => it)
        .then(it => document.writeln(it));

     */

    /* 1 1
    const idPromise = x => new Promise(resolve => resolve(x));
    idPromise(1)
        .then(it => { document.writeln(it); return idPromise(it); } )
        .then(it => document.writeln(it));

     */

    /* 1 2
    const idPromise = x => new Promise(resolve => resolve(x));

    const writer = x => {
        document.writeln(x);
        return idPromise(x);
    };

    idPromise(1)
        .then(writer)
        .then(it => it + 1)
        .then(writer);

     */

    /* 1 undefined
    const idPromise = x => new Promise(resolve => resolve(x));

    const writer = x => {
        document.writeln(x);
        return idPromise(x);
    };
    const filterEven = n => n % 2 === 0 ? n : undefined;

    idPromise(1)
        .then(writer)
        .then(filterEven)
        .then(writer);

     */

    /* 1 2 2
    const idPromise = x => new Promise(resolve => resolve(x));

    const writer = x => {
        document.writeln(x);
        return idPromise(x);
    };
    const inc       = n => n + 1;
    const filterEven = n => n % 2 === 0 ? n : undefined;

    idPromise(1)
        .then(writer)
        .then(inc)
        .then(writer)
        .then(filterEven)
        .then(writer)

     */

    /* 1 1
    const idPromise = x => new Promise(resolve => resolve(x));
    idPromise(1)
        .then(it => { document.writeln(it); return it; } )
        .then(it => document.writeln(it));

     */


    /* 1 undefined
    const idPromise = x => new Promise(resolve => resolve(x));
    idPromise(1)
        .then(it => document.writeln(it))
        .then(it => document.writeln(it));

     */

    /* [Object Promise]
    const idPromise = x => new Promise(resolve => resolve(x));
    document.writeln(idPromise(1));

     */

    /* 1 undefined
    const idPromise = x => new Promise(resolve => resolve(x));

    const writer = x => {
        document.writeln(x);
        return idPromise(x);
    };
    const filterEven = n => n % 2 === 0 ? n : undefined;

    idPromise(1)
        .then(writer)
        .then(filterEven)
        .then(writer);

     */

    /* 1 undefined
    const idPromise = x => new Promise(resolve => resolve(x));

    const writer = x => {
        document.writeln(x);
        return idPromise(x);
    };
    const filterEven = n => n % 2 === 0 ? n : undefined;

    idPromise(1)
        .then(writer)
        .then(filterEven)
        .then(writer);

     */

    /* 1
    const idPromise = x => new Promise(resolve => resolve(x));

    const writer = x => {
        document.writeln(x);
        return idPromise(x);
    };
    const filterEven = n => { if (n % 2 === 0) return n; else throw Error("not even") };

    idPromise(1)
        .then(writer)
        .then(filterEven)
        .then(writer)
        .catch(err => {});

     */


    /* 1 1
    const idPromise = x => new Promise(resolve => resolve(x));

    const writer = x => {
        document.writeln(x);
        return idPromise(x);
    };

    idPromise(1)
        .then(writer)
        .then(it => document.writeln(it));

     */


    /* 1
    const idPromise = x => new Promise(resolve => resolve(x));

    const writer = x => {
        document.writeln(x);
        return idPromise(x);
    };
    const filterEven = n => { if (n % 2 === 0) return n; else throw Error("not even") };

    idPromise(1)
        .then(writer)
        .then(filterEven)
        .then(writer)
        .catch(err => {});

     */


    /* 1 2
    const idPromise = x => new Promise(resolve => resolve(x));

    const writer = x => {
        document.writeln(x);
        return idPromise(x);
    };

    idPromise(1)
        .then(writer)
        .then(it => it + 1)
        .then(writer);

     */

    //Q24 --> 3P

    /* undefined
    const idPromise = x => new Promise(resolve => resolve(x));
    const failPromise = err => new Promise( (resolve, reject) => reject(err));

    const writer = x => {
        document.writeln(x);
        return idPromise(x);
    };

    const inc       = n => idPromise(n + 1);
    const filterEven = n => n % 2 === 0 ? idPromise(n) : failPromise("not even");

    const foo = async i => {
        let x = await idPromise(i);
        while (x < 4){
            x = await filterEven(x).catch( err => {});
            x = await writer(x);
            x = await inc(x);
        }
    };
    foo(1);
     */

    /* 1
    const idPromise = x => new Promise(resolve => resolve(x));
    const failPromise = err => new Promise( (resolve, reject) => reject(err));

    const writer = x => {
        document.writeln(x);
        return idPromise(x);
    };

    const foo = async i => {
        let x = await idPromise(i);
            x = await writer(x);
    };
    foo(1);

     */

    /* 1
    const idPromise = x => new Promise(resolve => resolve(x));
    const failPromise = err => new Promise( (resolve, reject) => reject(err));

    const foo = async i => {
        let x = await idPromise(i);
        document.writeln(x);
    };
    foo(1);

     */

    /* ERROR
    const idPromise = x => new Promise(resolve => resolve(x));
    const failPromise = err => new Promise( (resolve, reject) => reject(err));

    const writer = x => {
        document.writeln(x);
        return idPromise(x);
    };

    const foo = async i => {
        let x = await idPromise(i);
        x.then(writer);
    };
    foo(1);

     */

    /* 1 2 3
    const idPromise = x => new Promise(resolve => resolve(x));
    const failPromise = err => new Promise( (resolve, reject) => reject(err));

    const writer = x => {
        document.writeln(x);
        return idPromise(x);
    };

    const inc       = n => idPromise(n + 1);

    const foo = async i => {
        let x = await idPromise(i);
        while (x < 4){
            x = await writer(x);
            x = await inc(x);
        }
    };
    foo(1);

     */


    /* ERROR
    const idPromise = x => new Promise(resolve => resolve(x));
    const failPromise = err => new Promise( (resolve, reject) => reject(err));

    const writer = x => {
        document.writeln(x);
        return idPromise(x);
    };

    const inc       = n => idPromise(n + 1);
    const filterEven = n => n % 2 === 0 ? idPromise(n) : failPromise("not even");

    const foo = async i => {
        let x = await idPromise(i);
        while (x < 4){
            x = await filterEven(x);
            x = await writer(x);
            x = await inc(x);
        }
    };
    foo(1);

     */



    //Q24a --> 5P



</script>
</body>
</html>